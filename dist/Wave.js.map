{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 883feeacdcd86349eb7d","webpack:///./src/Wave.js"],"names":["PI2","Math","PI","HALFPI","Wave","el","speed","amplitude","wavelength","segmentLength","lineWidth","time","strokeStyle","resizeEvent","canvasHeight","options","init_ops","Object","assign","console","error","ctx","getContext","waves","length","log","_resizeWidth","window","addEventListener","bind","initialize","dpr","devicePixelRatio","width","document","body","clientWidth","height","style","waveWidth","waveLeft","clearRect","index","timeModifier","drawSine","percent","sin","x","y","amp","yAxis","lineCap","lineJoin","beginPath","moveTo","lineTo","i","ease","stroke","clear","update","requestAnimationFrame","run"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;AC5DA,IAAMA,MAAMC,KAAKC,EAAL,GAAU,CAAtB;AACA,IAAMC,SAASF,KAAKC,EAAL,GAAU,CAAzB;;IAEaE,I,WAAAA,I;;;+BAEA;AACT,WAAKC,EAAL,GAAU,IAAV;AACA,WAAKC,KAAL,GAAa,EAAb,CAFS,CAEQ;AACjB,WAAKC,SAAL,GAAiB,EAAjB,CAHS,CAGW;AACpB,WAAKC,UAAL,GAAkB,EAAlB,CAJS,CAIY;AACrB,WAAKC,aAAL,GAAqB,EAArB,CALS,CAKe;AACxB,WAAKC,SAAL,GAAiB,CAAjB,CANS,CAMU;AACnB,WAAKC,IAAL,GAAY,CAAZ,CAPS,CAOK;AACd,WAAKC,WAAL,GAAmB,0BAAnB;AACA,WAAKC,WAAL,GAAmB,YAAY,CAAG,CAAlC;AACA,WAAKC,YAAL,GAAoB,GAApB;AACD;;;AAED,kBAA0B;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AACxB,SAAKC,QAAL;AACAC,WAAOC,MAAP,CAAc,IAAd,EAAoBH,OAApB;;AAEA,QAAI,CAAC,KAAKV,EAAV,EAAc;AACZc,cAAQC,KAAR,CAAc,oBAAd;AACD;AACD,SAAKC,GAAL,GAAW,KAAKhB,EAAL,CAAQiB,UAAR,CAAmB,IAAnB,CAAX;;AAEA,QAAI,CAAC,KAAKC,KAAL,CAAWC,MAAhB,EAAwB;AACtBL,cAAQM,GAAR,CAAY,oBAAZ;AACD;;AAED;AACA,SAAKC,YAAL;AACAC,WAAOC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKF,YAAL,CAAkBG,IAAlB,CAAuB,IAAvB,CAAlC;AACA;AACA,SAAKhB,WAAL;AACAc,WAAOC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKf,WAAL,CAAiBgB,IAAjB,CAAsB,IAAtB,CAAlC;;AAEA,QAAI,OAAO,KAAKC,UAAZ,KAA2B,UAA/B,EAA2C;AACzC,WAAKA,UAAL;AACD;AACF;;;;mCAEc;AACb,WAAKC,GAAL,GAAWJ,OAAOK,gBAAP,IAA2B,CAAtC;;AAEA,WAAKC,KAAL,GAAa,KAAK5B,EAAL,CAAQ4B,KAAR,GAAgBC,SAASC,IAAT,CAAcC,WAAd,GAA4B,KAAKL,GAA9D;AACA,WAAKM,MAAL,GAAc,KAAKhC,EAAL,CAAQgC,MAAR,GAAiB,KAAKvB,YAAL,GAAoB,KAAKiB,GAAxD;AACA,WAAK1B,EAAL,CAAQiC,KAAR,CAAcL,KAAd,GAAsBC,SAASC,IAAT,CAAcC,WAAd,GAA4B,IAAlD;AACA,WAAK/B,EAAL,CAAQiC,KAAR,CAAcD,MAAd,GAAuB,KAAKvB,YAAL,GAAoB,IAA3C;;AAEA,WAAKyB,SAAL,GAAiB,KAAKN,KAAL,GAAa,IAA9B;AACA,WAAKO,QAAL,GAAgB,KAAKP,KAAL,GAAa,KAA7B;AACD;;;4BAEO;AACN,WAAKZ,GAAL,CAASoB,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKR,KAA9B,EAAqC,KAAKI,MAA1C;AACD;;;2BAEM1B,I,EAAM;AACX,WAAKA,IAAL,GAAY,KAAKA,IAAL,GAAY,KAAxB;AACA,UAAI,OAAOA,IAAP,KAAgB,WAApB,EAAiC;AAC/BA,eAAO,KAAKA,IAAZ;AACD;;AAED,UAAI+B,QAAQ,CAAC,CAAb;AACA,UAAIlB,SAAS,KAAKD,KAAL,CAAWC,MAAxB;;AAEA,aAAO,EAAEkB,KAAF,GAAUlB,MAAjB,EAAyB;AACvB,YAAImB,eAAe,KAAKpB,KAAL,CAAWmB,KAAX,EAAkBC,YAAlB,IAAkC,CAArD;AACA,aAAKC,QAAL,CAAcjC,OAAOgC,YAArB,EAAmC,KAAKpB,KAAL,CAAWmB,KAAX,CAAnC;AACD;AACDA,cAAQ,KAAK,CAAb;AACAlB,eAAS,KAAK,CAAd;AACD;;;yBAEIqB,O,EAAStC,S,EAAW;AACvB,aAAOA,aAAaN,KAAK6C,GAAL,CAASD,UAAU7C,GAAV,GAAgBG,MAAzB,IAAmC,CAAhD,IAAqD,GAA5D;AACD;;;6BAEQQ,I,EAAoB;AAAA,UAAdI,OAAc,uEAAJ,EAAI;;AAC3B,UAAIR,YAAYQ,QAAQR,SAAR,IAAqB,KAAKA,SAA1C;AACA,UAAIC,aAAaO,QAAQP,UAAR,IAAsB,KAAKA,UAA5C;AACA,UAAIE,YAAYK,QAAQL,SAAR,IAAqB,KAAKA,SAA1C;AACA,UAAIE,cAAcG,QAAQH,WAAR,IAAuB,KAAKA,WAA9C;AACA,UAAIH,gBAAgBM,QAAQN,aAAR,IAAyB,KAAKA,aAAlD;;AAEA,UAAIsC,IAAIpC,IAAR;AACA,UAAIqC,IAAI,CAAR;AACA,UAAIC,MAAM,KAAK1C,SAAf;;AAEA;AACA,UAAI2C,QAAQ,KAAKb,MAAL,GAAc,CAA1B;;AAEA;AACA,WAAKhB,GAAL,CAASX,SAAT,GAAqBA,YAAY,KAAKqB,GAAtC;AACA,WAAKV,GAAL,CAAST,WAAT,GAAuBA,WAAvB;AACA,WAAKS,GAAL,CAAS8B,OAAT,GAAmB,OAAnB;AACA,WAAK9B,GAAL,CAAS+B,QAAT,GAAoB,OAApB;AACA,WAAK/B,GAAL,CAASgC,SAAT;;AAEA;AACA,WAAKhC,GAAL,CAASiC,MAAT,CAAgB,CAAhB,EAAmBJ,KAAnB;AACA,WAAK7B,GAAL,CAASkC,MAAT,CAAgB,KAAKf,QAArB,EAA+BU,KAA/B;;AAEA,WAAK,IAAIM,IAAI,CAAb,EAAgBA,IAAI,KAAKjB,SAAzB,EAAoCiB,KAAK/C,aAAzC,EAAwD;AACtDsC,YAAKpC,OAAO,KAAKL,KAAb,GAAsB,CAAC,CAAC4C,KAAD,GAASM,CAAV,IAAehD,UAAzC;AACAwC,YAAI/C,KAAK6C,GAAL,CAASC,CAAT,CAAJ;;AAEA;AACAE,cAAM,KAAKQ,IAAL,CAAUD,IAAI,KAAKjB,SAAnB,EAA8BhC,SAA9B,CAAN;;AAEA,aAAKc,GAAL,CAASkC,MAAT,CAAgBC,IAAI,KAAKhB,QAAzB,EAAmCS,MAAMD,CAAN,GAAUE,KAA7C;;AAEAD,cAAM,KAAK,CAAX;AACD;;AAED;AACA,WAAK5B,GAAL,CAASkC,MAAT,CAAgB,KAAKtB,KAArB,EAA4BiB,KAA5B;;AAEA;AACA,WAAK7B,GAAL,CAASqC,MAAT;AACD;;;0BAEK;AACJ,WAAKC,KAAL;AACA,WAAKC,MAAL;;AAEAjC,aAAOkC,qBAAP,CAA6B,KAAKC,GAAL,CAASjC,IAAT,CAAc,IAAd,CAA7B;AACD","file":"Wave.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 883feeacdcd86349eb7d","\nconst PI2 = Math.PI * 2\nconst HALFPI = Math.PI / 2\n\nexport class Wave {\n\n  init_ops() {\n    this.el = null\n    this.speed = 10  // 速度\n    this.amplitude = 50 // 振幅\n    this.wavelength = 50 // 波长\n    this.segmentLength = 10 // 波片段\n    this.lineWidth = 2 // 线宽\n    this.time = 0 // 周期\n    this.strokeStyle = 'rgba(255, 255, 255, 0.2)'\n    this.resizeEvent = function () { }\n    this.canvasHeight = 200\n  }\n\n  constructor(options = {}) {\n    this.init_ops();\n    Object.assign(this, options)\n\n    if (!this.el) {\n      console.error('No Canvas Selected')\n    }\n    this.ctx = this.el.getContext('2d')\n\n    if (!this.waves.length) {\n      console.log('No waves specified')\n    }\n\n    // Internal\n    this._resizeWidth()\n    window.addEventListener('resize', this._resizeWidth.bind(this))\n    // User\n    this.resizeEvent()\n    window.addEventListener('resize', this.resizeEvent.bind(this))\n\n    if (typeof this.initialize === 'function') {\n      this.initialize()\n    }\n  }\n\n  _resizeWidth() {\n    this.dpr = window.devicePixelRatio || 1\n\n    this.width = this.el.width = document.body.clientWidth * this.dpr\n    this.height = this.el.height = this.canvasHeight * this.dpr\n    this.el.style.width = document.body.clientWidth + 'px'\n    this.el.style.height = this.canvasHeight + 'px'\n\n    this.waveWidth = this.width * 0.95\n    this.waveLeft = this.width * 0.025\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.width, this.height)\n  }\n\n  update(time) {\n    this.time = this.time - 0.007\n    if (typeof time === 'undefined') {\n      time = this.time\n    }\n\n    let index = -1\n    let length = this.waves.length\n\n    while (++index < length) {\n      let timeModifier = this.waves[index].timeModifier || 1\n      this.drawSine(time * timeModifier, this.waves[index])\n    }\n    index = void 0\n    length = void 0\n  }\n\n  ease(percent, amplitude) {\n    return amplitude * (Math.sin(percent * PI2 - HALFPI) + 1) * 0.5\n  }\n\n  drawSine(time, options = {}) {\n    let amplitude = options.amplitude || this.amplitude\n    let wavelength = options.wavelength || this.wavelength\n    let lineWidth = options.lineWidth || this.lineWidth\n    let strokeStyle = options.strokeStyle || this.strokeStyle\n    let segmentLength = options.segmentLength || this.segmentLength\n\n    let x = time\n    let y = 0\n    let amp = this.amplitude\n\n    // Center the waves\n    let yAxis = this.height / 2\n\n    // Styles\n    this.ctx.lineWidth = lineWidth * this.dpr\n    this.ctx.strokeStyle = strokeStyle\n    this.ctx.lineCap = 'round'\n    this.ctx.lineJoin = 'round'\n    this.ctx.beginPath()\n\n    // Starting Line\n    this.ctx.moveTo(0, yAxis)\n    this.ctx.lineTo(this.waveLeft, yAxis)\n\n    for (let i = 0; i < this.waveWidth; i += segmentLength) {\n      x = (time * this.speed) + (-yAxis + i) / wavelength\n      y = Math.sin(x)\n\n      // Easing\n      amp = this.ease(i / this.waveWidth, amplitude)\n\n      this.ctx.lineTo(i + this.waveLeft, amp * y + yAxis)\n\n      amp = void 0\n    }\n\n    // Ending Line\n    this.ctx.lineTo(this.width, yAxis)\n\n    // Stroke it\n    this.ctx.stroke()\n  }\n\n  run() {\n    this.clear()\n    this.update()\n\n    window.requestAnimationFrame(this.run.bind(this))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Wave.js"],"sourceRoot":""}